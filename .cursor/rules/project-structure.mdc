---
description: Project structure and organization guidelines for NestJS applications
globs:
alwaysApply: false
---

# Project Structure Guidelines

## Root Directory Structure

src/
├── main.ts # Application entry point
├── app.module.ts # Root application module
├── modules/ # Feature modules
├── shared/ # Shared utilities (api-manager, dtos, transformers, types)
├── database/ # Database migrations and seeders
├── core/ # Exceptions, guards, interceptors, logger
├── config/ # Configuration management
└── common/ # Decorators, DTOs, enums, base-repository

## Module Structure

Each feature module should follow this structure:

/module-name
├── controller.ts # API endpoints
├── service.ts # Business logic
├── repository.ts # Database layer
├── entities/ # TypeORM entities
├── dto/
│ ├── queries/ # GET query DTOs
│ ├── requests/ # POST/PUT/PATCH DTOs
│ └── response/ # Response DTOs
├── types/ # Interfaces, types, enums (see @types.mdc)
└── module-name.module.ts # Module definition

## Module Guidelines

1. **Imports**:

   - A module may import:
     - Its own services, controllers, repositories
     - Other modules entirely
   - A module must NOT import services or repositories from other modules
   - Only services should be exported

2. **Code Organization**:
   - Place business logic in services, keep controllers thin
   - Use repositories for database operations
   - Keep files focused, single-purpose with clear names
   - Define clear interfaces and DTOs

## Best Practices

- Modules should be self-contained, avoid circular dependencies
- Use dependency injection
- Use TypeScript interfaces, types, and class-validator for validation
- Document complex logic
